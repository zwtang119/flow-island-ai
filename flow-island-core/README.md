# 心流静岛 (Flow Island)

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Status](https://img.shields.io/badge/Status-Prototyping_v2.1-blue.svg)](#)

一款助您脱离“注意力黑洞”，专注于当下的智能墨水屏伴侣。
本项目的核心是**开口即记事 (Voice First)** 功能，旨在解决一个核心问题：如何将脑海中闪过的日程和任务，用最自然、最低成本的方式记录下来，并让其中最重要的事项“自动浮现”在您的手腕上，真正做到“一瞥即懂”。

---

## ✨ 核心特性 (v2.1 - 客户端渲染)

- **开口即记事**: 通过语音输入您的日程安排，无需打字或打开任何App。
- **AI智能拆分与分类**: AI自动将您的语音拆分为多个独立任务，并运用“时间管理四象限”理论进行智能分类和排序。
- **要事第一**: 手表屏幕永远只显示AI为您挑选出的、当前最重要的一到两件事项，帮助您聚焦于高价值任务。
- **所见即所得**: 采用客户端渲染架构，确保Web UI上的预览与手表屏幕上的显示100%像素级精准。
- **隐私优先设计**: 所有语音处理都在浏览器本地完成，您的日程数据仅以最终图像形式短暂缓存在您的本地服务器上。

---

## ⚙️ 系统架构 (v2.1 - 客户端渲染)

`[ 1. 用户语音 ] → [ 2. Web UI (AI处理 + 图像渲染) ] → [ 3. 本地服务器 (图像缓存) ] → [ 4. Watchy 设备 ]`

1.  **用户语音**: 用户通过浏览器说出日程。
2.  **Web UI (`index.html`)**: **(渲染中心)**
    - 使用Web Speech API将语音转为文本。
    - **调用 Gemini AI** 对文本进行智能拆分和四象限分类，生成结构化的任务清单。
    - **使用Canvas API** 将最重要的任务**渲染成一张PNG图像**。
    - 将渲染好的PNG图像发送到本地服务器。
3.  **本地服务器 (`server.js`)**: **(图像缓存代理)**
    - **核心职责**: 接收并缓存来自Web UI的PNG图像，是Watchy设备的唯一数据源。
    - **不参与任何AI或渲染逻辑**，极致轻量和稳定。
4.  **Watchy设备 (固件)**:
    - **零改动**: 完全复用现有固件，继续从`/api/image`拉取最新图像。

---

## 🚀 快速开始

### 前置要求
- 已根据指南完成“心流静岛”系统的基础部署。
- 一个带有麦克风的设备（电脑或手机）用于访问Web UI。

### 使用步骤

1. **访问配置中心**
   - 在浏览器中打开Web UI (`http://localhost:3000`)。

2. **语音添加日程**
   - 点击“点击开始录音”按钮。
   - 说出您的日程安排，例如：“明天上午九点和CEO开会，下午三点去健身房，别忘了晚上八点还要学习Rust。”
   - 说完后，再次点击按钮（或等待60秒自动结束），AI将自动处理您的语音。

3. **查看结果**
   - “我的日程”区域将按四象限分类，显示AI处理后的所有任务。
   - 手表屏幕将自动更新，显示当前最重要的一项任务。

---

## 📖 开发与安装指南

本项目分为多个部分，请根据您的需求查阅对应指南：

### **安装与配置**
- **[第一部分：本地服务器设置](../../4-docs/guides/01-server-setup.md)**
- **[第二部分：Watchy 固件刷写](../../4-docs/guides/02-firmware-flashing.md)**
- **[第三部分：使用与故障排查](../../4-docs/guides/03-troubleshooting.md)**

### **核心设计文档**
- **[项目更新日志 (Changelog)](../../4-docs/changelog-archive/1-core.md)** - 追踪本项目的演进历程和关键决策。